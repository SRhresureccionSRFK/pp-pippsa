(function(){var e={7993:function(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("SW registrado:",e),e.onupdatefound=()=>{const t=e.installing;t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?console.log("Nueva versión disponible."):console.log("Content cached for offline use."))}}}).catch(e=>console.error("SW falló:",e))})},9644:function(e,t,n){"use strict";var o=n(5130),r=n(6768),a=n(4232);const i={id:"app"},s={class:"tabs"},l={class:"barra-bottom"},c={class:"progress-bar"},u={class:"botones"},d=["disabled"],p=["disabled"];function g(e,t,n,g,h,f){const v=(0,r.g2)("TodoList");return(0,r.uX)(),(0,r.CE)("div",i,[t[2]||(t[2]=(0,r.Lk)("h1",null,"Gestión de Pipsas",-1)),(0,r.Lk)("div",s,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(h.tabs,(e,t)=>((0,r.uX)(),(0,r.CE)("span",{key:t,class:(0,a.C4)({active:t===h.paso})},(0,a.v_)(e.titulo),3))),128))]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(h.tabs,(e,t)=>(0,r.bo)(((0,r.uX)(),(0,r.Wv)(v,{key:t,titulo:e.titulo,placeholder:e.placeholder,items:e.items,"onUpdate:items":t=>e.items=t,tabIndex:t},null,8,["titulo","placeholder","items","onUpdate:items","tabIndex"])),[[o.aG,t===h.paso]])),128)),(0,r.Lk)("div",l,[(0,r.Lk)("div",c,[(0,r.Lk)("div",{class:"progress",style:(0,a.Tr)({width:f.progreso+"%",background:f.gradiente})},null,4)]),(0,r.Lk)("div",u,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>f.prev&&f.prev(...e)),disabled:0===h.paso},"⬅ Prev",8,d),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>f.next&&f.next(...e)),disabled:h.paso===h.tabs.length-1},"Next ➡",8,p)])])])}const h={class:"todo-list"},f={class:"agregar"},v=["placeholder"],m=["onClick"];function b(e,t,n,i,s,l){return(0,r.uX)(),(0,r.CE)("div",h,[(0,r.Lk)("h2",null,(0,a.v_)(n.titulo),1),(0,r.Lk)("div",f,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.nuevaItem=e),placeholder:"Agregar "+n.placeholder,onKeyup:t[1]||(t[1]=(0,o.jR)((...e)=>l.agregar&&l.agregar(...e),["enter"]))},null,40,v),[[o.Jo,s.nuevaItem]]),(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>l.agregar&&l.agregar(...e))},"Agregar")]),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.items,(e,t)=>((0,r.uX)(),(0,r.CE)("li",{key:t},[(0,r.eW)((0,a.v_)(e.nombre)+" ",1),(0,r.Lk)("button",{class:"eliminar",onClick:e=>l.eliminar(t)},"✖",8,m)]))),128))]),(0,r.Lk)("button",{class:"guardar",onClick:t[3]||(t[3]=(...e)=>l.guardarServidor&&l.guardarServidor(...e))},"Guardar")])}n(8111),n(2489),n(4114);const k="lochusa:queue";function y(e){const t=JSON.parse(localStorage.getItem(k)||"[]");t.push(e),localStorage.setItem(k,JSON.stringify(t))}async function L(){if(!navigator.onLine)return;const e=JSON.parse(localStorage.getItem(k)||"[]");if(e.length){for(const n of e)try{await fetch("http://localhost:8080/guardar-tarea",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch(t){return void console.warn("sync failed for item",n)}localStorage.removeItem(k),console.log("Queue synced")}}var S={name:"TodoList",props:{items:Array,titulo:String,placeholder:String,tabIndex:Number},data(){return{nuevaItem:""}},methods:{agregar(){if(!this.nuevaItem.trim())return;const e=[...this.items,{nombre:this.nuevaItem}];this.$emit("update:items",e),this.nuevaItem=""},eliminar(e){const t=this.items.filter((t,n)=>n!==e);this.$emit("update:items",t)},async guardarServidor(e){const t={tab:e,items:this.items,ts:Date.now()};if(!navigator.onLine)return y(t),void alert("Sin conexión: se guardó localmente y se sincronizará al reconectar.");const n=await fetch("http://pp-pippsa.test:8383/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=await n.json();alert("Guardado: "+JSON.stringify(o))}}},w=n(1241);const C=(0,w.A)(S,[["render",b]]);var O=C,I={name:"App",components:{TodoList:O},data(){return{paso:0,tabs:[{titulo:"Pipsas",placeholder:"pipsa",items:[{nombre:"Margarita"},{nombre:"Pepperoni"}]},{titulo:"Ingredientes",placeholder:"ingrediente",items:[{nombre:"Queso"},{nombre:"Jamón"}]},{titulo:"Paquetes",placeholder:"paquete",items:[]},{titulo:"Extras",placeholder:"extra",items:[{nombre:"Refresco"},{nombre:"Papas"},{nombre:"Postre"}]}]}},computed:{progreso(){return(this.paso+1)/this.tabs.length*100},gradiente(){const e=this.tabs.length;return 0===this.paso?"#42b983":this.paso===e-1?"#e74c3c":"#f1c40f"}},methods:{next(){this.paso<this.tabs.length-1&&this.paso++},prev(){this.paso>0&&this.paso--}}};const x=(0,w.A)(I,[["render",g]]);var E=x;n(7993);window.addEventListener("online",()=>{console.log("Back online, sincronizando cola..."),L()}),(0,o.Ef)(E).mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,a){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],r=e[u][1],a=e[u][2];for(var s=!0,l=0;l<o.length;l++)(!1&a||i>=a)&&Object.keys(n.O).every(function(e){return n.O[e](o[l])})?o.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,r,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,a,i=o[0],s=o[1],l=o[2],c=0;if(i.some(function(t){return 0!==e[t]})){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)var u=l(n)}for(t&&t(o);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},o=self["webpackChunkhola2"]=self["webpackChunkhola2"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],function(){return n(9644)});o=n.O(o)})();
//# sourceMappingURL=app.9329843d.js.map